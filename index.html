<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meliketik - Discover Trees & Their Uses</title>
    <link rel="stylesheet" href="style.css" title="" type="text/css" />
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-text">
                <span class="logo-icon">üå≥</span>
                <h1>Meliketik</h1>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="showPage('home')">Home</button>
                <button class="nav-btn" onclick="showPage('admin')">Admin Panel</button>
                <button class="nav-btn" onclick="showPage('profile')">Profile</button>
            </div>
        </header>

        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="tree-grid" id="treeGrid"></div>
        </div>

        <!-- Tree Detail Page -->
        <div id="treeDetail" class="page">
            <button class="back-btn" onclick="showPage('home')">‚Üê Back to Trees</button>
            <div class="tree-detail" id="treeDetailContent"></div>
        </div>

        <!-- Admin Page -->
        <div id="admin" class="page">
            <div class="admin-form">
                <h2>Add New Tree</h2>
                <input type="text" id="treeName" placeholder="Tree Name" required>
                <textarea id="treeDescription" placeholder="Description and uses of the tree" required></textarea>
                <input type="file" id="treeImages" multiple accept="image/*">
                <div class="image-preview" id="imagePreview"></div>
                <button onclick="addTree()">Add Tree</button>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profile" class="page">
            <div class="profile-card">
                <div class="profile-avatar">üå≤</div>
                <h2>Admin Profile</h2>
                <h3>Website Creator</h3>
                <p>
                    Welcome to Meliketik - your comprehensive platform for discovering trees and their uses.
                </p>
                <p>
                    This platform was created to share knowledge about different tree species, 
                    their characteristics, and their various applications in our daily lives.
                </p>
                <div class="profile-info">
                    <p>Admin & Creator</p>
                    <p>Meliketik Team</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let trees = [
            {
                id: 1,
                name: 'Oak Tree',
                description: 'Oak trees are known for their strength and longevity. Their wood is highly valued for furniture, flooring, and construction. Oak bark has medicinal properties and acorns provide food for wildlife. They are excellent for carbon sequestration and provide shade.',
                images: ['https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=400', 'https://images.unsplash.com/photo-1609743522653-52354461eb27?w=400'],
                suggestions: []
            },
            {
                id: 2,
                name: 'Pine Tree',
                description: 'Pine trees are evergreen conifers used extensively in construction and paper production. Pine needles can be used for tea, rich in vitamin C. The resin is used in turpentine and rosin production. Pine nuts are edible and nutritious.',
                images: ['https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=400'],
                suggestions: []
            },
            {
                id: 3,
                name: 'Maple Tree',
                description: 'Maple trees are famous for maple syrup production. Their wood is used for furniture, musical instruments, and flooring. Maple leaves are beautiful in autumn. They provide excellent shade and are popular ornamental trees.',
                images: ['https://images.unsplash.com/photo-1511497584788-876760111969?w=400'],
                suggestions: []
            },
            {
                id: 4,
                name: 'Willow Tree',
                description: 'Willow trees grow near water and have flexible branches used in basket weaving. The bark contains salicin, which is similar to aspirin. They are excellent for erosion control and provide habitat for wildlife.',
                images: ['https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=400'],
                suggestions: []
            },
            {
                id: 5,
                name: 'Cedar Tree',
                description: 'Cedar trees produce aromatic wood that resists decay and insects. Used in closets, chests, and outdoor furniture. Cedar oil has medicinal properties. The tree is also culturally significant in many traditions.',
                images: ['https://images.unsplash.com/photo-1511497584788-876760111969?w=400'],
                suggestions: []
            },
            {
                id: 6,
                name: 'Birch Tree',
                description: 'Birch trees have distinctive white bark. The wood is used for furniture and plywood. Birch sap can be tapped for syrup. The bark has been traditionally used for canoe building and paper making.',
                images: ['https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=400'],
                suggestions: []
            }
        ];

        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageName).classList.add('active');
            
            if (pageName === 'home') {
                renderTrees();
            }
        }

        function renderTrees() {
            const grid = document.getElementById('treeGrid');
            grid.innerHTML = trees.map(tree => `
                <div class="tree-card" onclick="showTreeDetail(${tree.id})">
                    <img src="${tree.images[0]}" alt="${tree.name}" class="tree-card-image">
                    <div class="tree-card-content">
                        <h3>${tree.name}</h3>
                        <p>Click to learn more</p>
                    </div>
                </div>
            `).join('');
        }

        function showTreeDetail(treeId) {
            const tree = trees.find(t => t.id === treeId);
            const content = document.getElementById('treeDetailContent');
            
            content.innerHTML = `
                <h2>${tree.name}</h2>
                <div class="tree-images">
                    ${tree.images.map(img => `<img src="${img}" alt="${tree.name}">`).join('')}
                </div>
                <p style="color: #2e7d32; line-height: 1.9; margin: 25px 0; font-size: 1.1em;">${tree.description}</p>
                
                <div class="suggestion-form">
                    <h3>Share Your Suggestion</h3>
                    <input type="text" id="suggestionInput" placeholder="Enter your suggestion about this tree...">
                    <button onclick="addSuggestion(${treeId})">Submit Suggestion</button>
                </div>
                
                <div class="suggestions-list">
                    <h3>Community Suggestions</h3>
                    <div id="suggestionsList">
                        ${tree.suggestions.length > 0 ? 
                            tree.suggestions.map(s => `
                                <div class="suggestion-item">
                                    <p>${s}</p>
                                </div>
                            `).join('') : 
                            '<p style="color: #558b2f; padding: 20px; background: #f1f8e9; border-radius: 12px;">No suggestions yet. Be the first to contribute!</p>'
                        }
                    </div>
                </div>
            `;
            
            showPage('treeDetail');
        }

        function addSuggestion(treeId) {
            const input = document.getElementById('suggestionInput');
            const suggestion = input.value.trim();
            
            if (suggestion) {
                const tree = trees.find(t => t.id === treeId);
                tree.suggestions.push(suggestion);
                input.value = '';
                showTreeDetail(treeId);
            }
        }

        document.getElementById('treeImages').addEventListener('change', function(e) {
            const preview = document.getElementById('imagePreview');
            preview.innerHTML = '';
            
            Array.from(e.target.files).forEach(file => {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const img = document.createElement('img');
                    img.src = event.target.result;
                    preview.appendChild(img);
                };
                reader.readAsDataURL(file);
            });
        });

        function addTree() 
        /*{
            const name = document.getElementById('treeName').value;
            const description = document.getElementById('treeDescription').value;
            const files = document.getElementById('treeImages').files;
            
            if (name && description && files.length > 0) {
                const images = [];
                let processed = 0;
                
                Array.from(files).forEach(file => {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        images.push(e.target.result);
                        processed++;
                        
                        if (processed === files.length) {
                            trees.push({
                                id: trees.length + 1,
                                name: name,
                                description: description,
                                images: images,
                                suggestions: []
                            });
                            
                            document.getElementById('treeName').value = '';
                            document.getElementById('treeDescription').value = '';
                            document.getElementById('treeImages').value = '';
                            document.getElementById('imagePreview').innerHTML = '';
                            
                            alert('Tree added successfully!');
                            showPage('home');
                        }
                    };
                    reader.readAsDataURL(file);
                });
            } else {
                alert('Please fill all fields and select at least one image');
            }
        }*/
        {
const name = document.getElementById('treeName').value;
const description = document.getElementById('treeDescription').value;
const files = document.getElementById('treeImages').files;

if (name && description && files.length > 0) {
const uploadPreset = 'arapmeliketik'; // Replace with your Cloudinary upload preset
const cloudName = 'dpbw6l6iq'; // Replace with your Cloudinary cloud name
const url = `https://api.cloudinary.com/v1_1/${cloudName}/image/upload`;

const images = [];
let processed = 0;

Array.from(files).forEach((file) => {
const formData = new FormData();
formData.append('file', file);
formData.append('arapmeliketik', uploadPreset);

fetch(url, {
method: 'POST',
body: formData,
})
.then((response) => response.json())
.then((data) => {
images.push(data.secure_url);
processed++;

if (processed === files.length) {
trees.push({
id: trees.length + 1,
name: name,
description: description,
images: images,
suggestions: [],
});

document.getElementById('treeName').value = '';
document.getElementById('treeDescription').value = '';
document.getElementById('treeImages').value = '';
document.getElementById('imagePreview').innerHTML = '';
alert('Tree added successfully!');
showPage('home');
}
})
.catch((error) => console.error(error));
});
} else {
alert('Please fill all fields and select at least one image');
}
}

        renderTrees();
    </script>
</body>
</html>